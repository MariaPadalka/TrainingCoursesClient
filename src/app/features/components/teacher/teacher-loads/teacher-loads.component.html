<div class="component-container">
  <div class="spinner-container" *ngIf="isLoading">
    <mat-progress-spinner
      mode="indeterminate"
      color="primary"
    ></mat-progress-spinner>
  </div>
  <div class="table-container" [ngClass]="{ hidden: isLoading }">
    <mat-label>Table of loads</mat-label>
    <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">
      <!-- Subject Column -->
      <ng-container matColumnDef="subject">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Subject</th>
        <td data-label="Subject" mat-cell *matCellDef="let element">
          {{ element.subject.subjectName }}
        </td>
      </ng-container>

      <!-- Group Specialty Column -->
      <ng-container matColumnDef="group">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Group</th>
        <td data-label="Group" mat-cell *matCellDef="let element">
          <span
            (click)="openGroupDetailDialog(element.group)"
            style="cursor: pointer; color: blue; text-decoration: underline"
            >{{ element.group.specialty }}</span
          >
        </td>
      </ng-container>

      <!-- Lesson Type Column -->
      <ng-container matColumnDef="lessonType">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Lesson Type</th>
        <td data-label="LessonType" mat-cell *matCellDef="let element">
          {{ element.lessonType }}
        </td>
      </ng-container>

      <!-- Hours Column -->
      <ng-container matColumnDef="hours">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Hours</th>
        <td data-label="Hours" mat-cell *matCellDef="let element">
          {{ element.hours }}
        </td>
      </ng-container>

      <!-- Payment Per Hour Column -->
      <ng-container matColumnDef="paymentPerHour">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          Payment Per Hour
        </th>
        <td data-label="HourlyPayment" mat-cell *matCellDef="let element">
          {{ element.paymentPerHour }}
        </td>
      </ng-container>

      <!-- Total Payment Column -->
      <ng-container matColumnDef="totalPayment">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Total Payment</th>
        <td data-label="TotalPayment" mat-cell *matCellDef="let element">
          {{ element.totalPayment }}
        </td>
      </ng-container>

      <tr
        class="not-for-mobile"
        mat-header-row
        *matHeaderRowDef="displayedColumns"
      ></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
    <mat-paginator [pageSizeOptions]="[2, 5, 10, 25]"></mat-paginator>
  </div>
</div>
